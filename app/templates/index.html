{% extends 'base.html' %}

{% block body %}
<!-- Header -->
<div class="header">
    <div class="username">@{{ user.username}}</div>
    <a href="/settings"><button class="settings-button"></button></a>
</div>

<div id="server-response" style="white-space: pre-wrap; background-color: #f0f0f0; padding: 10px; margin-top: 10px;">
    <strong>Ответ от сервера:</strong>
</div>
<div id="debug-log" style="white-space: pre-wrap; background-color: #e0e0e0; padding: 10px; margin-top: 10px;">
    <strong>Дебаг-логи:</strong>
</div>


<!-- Content -->
<div class="content mt-5">
    <!-- Balance -->
    <div class="balance">
        <h5>Остаток</h5>
        <h1>12,345.67 ₽</h1>
    </div>

    <!-- Action Buttons -->
    <div class="buttons">
        <button class="btn btn-tg-theme" onclick="vibrateOnClick()">Доход</button>
        <button class="btn btn-tg-theme" onclick="vibrateOnClick()">Расход</button>
    </div>

    <div class="telegram-card">
        <div class="telegram-card-header">
            Операции за месяц
        </div>
        <div class="telegram-card-content">
            <!-- Пример записи -->
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Покупка продуктов</strong>
                    <div class="telegram-card-date ">01 декабря - пятница</div>
                </a>
                <div class="telegram-card-amount text-danger">-1,200.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Зарплата</strong>
                    <div class="telegram-card-date ">02 декабря - суббота</div>
                </a>
                <div class="telegram-card-amount text-success">+50,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Оплата интернета</strong>
                    <div class="telegram-card-date ">03 декабря - воскресенье</div>
                </a>
                <div class="telegram-card-amount text-danger">-900.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Продажа товаров</strong>
                    <div class="telegram-card-date ">04 декабря - понедельник</div>
                </a>
                <div class="telegram-card-amount text-success">+15,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Кафе с друзьями</strong>
                    <div class="telegram-card-date ">05 декабря - вторник</div>
                </a>
                <div class="telegram-card-amount text-danger">-2,300.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Оплата ЖКХ</strong>
                    <div class="telegram-card-date ">06 декабря - среда</div>
                </a>
                <div class="telegram-card-amount text-danger">-7,500.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Возврат долга</strong>
                    <div class="telegram-card-date ">07 декабря - четверг</div>
                </a>
                <div class="telegram-card-amount text-success">+3,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Покупка одежды</strong>
                    <div class="telegram-card-date ">08 декабря - пятница</div>
                </a>
                <div class="telegram-card-amount text-danger">-5,800.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Бонус от компании</strong>
                    <div class="telegram-card-date ">09 декабря - суббота</div>
                </a>
                <div class="telegram-card-amount text-success">+20,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Оплата кредита</strong>
                    <div class="telegram-card-date ">10 декабря - воскресенье</div>
                </a>
                <div class="telegram-card-amount text-danger">-15,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Подарок на день рождения</strong>
                    <div class="telegram-card-date ">11 декабря - понедельник</div>
                </a>
                <div class="telegram-card-amount text-danger">-4,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Выигрыш в лотерею</strong>
                    <div class="telegram-card-date ">12 декабря - вторник</div>
                </a>
                <div class="telegram-card-amount text-success">+10,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Покупка техники</strong>
                    <div class="telegram-card-date ">13 декабря - среда</div>
                </a>
                <div class="telegram-card-amount text-danger">-25,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Аренда квартиры</strong>
                    <div class="telegram-card-date text-secondary">14 декабря - четверг</div>
                </a>
                <div class="telegram-card-amount text-danger">-30,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Возврат переплаты</strong>
                    <div class="telegram-card-date ">15 декабря - пятница</div>
                </a>
                <div class="telegram-card-amount text-success">+2,500.00 ₽</div>
            </div>
        </div>
        <div class="telegram-footer">
            <a href="#" class="text-primary">Расширенный поиск</a>
        </div>
    </div>

    <div class="telegram-card">


        <div class="telegram-card-header">
            Расходы и доходы
        </div>


        <div class="telegram-card-content">
            <canvas id="incomeExpenseChart"></canvas>
    <script>
        const ctx = document.getElementById('incomeExpenseChart').getContext('2d');
        const incomeExpenseChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Январь'],
                datasets: [{
                    label: 'Доходы',
                    data: [12000, 15000, 18000],
                    backgroundColor: 'rgba(75, 192, 192, 0.5)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }, {
                    label: 'Расходы',
                    data: [8000, 11000, 13000],
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
        </div>

    </div>


    <div class="telegram-card">
        <div class="telegram-card-header">
            Расходы по категориям
        </div>
        <div class="telegram-card-content">
            <canvas id="categoryChart3"></canvas>
        </div>
    </div>

    <div class="telegram-card">
        <div class="telegram-card-header">
            Сравнение расходов по категориям
        </div>
        <div class="telegram-card-content">
            <canvas id="categoryChart4"></canvas>
        </div>
    </div>







    <script>
        var ctx4 = document.getElementById('categoryChart4').getContext('2d');
        var categoryChart4 = new Chart(ctx4, {
            type: 'bar',
            data: {
                labels: ['Январь', 'Февраль', 'Март', 'Апрель'],
                datasets: [{
                    label: 'Еда',
                    data: [5000, 7000, 6000, 8000],
                    backgroundColor: 'rgba(75, 192, 192, 0.5)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }, {
                    label: 'Транспорт',
                    data: [3000, 2500, 3200, 2800],
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
    









    <script>
        var ctx3 = document.getElementById('categoryChart3').getContext('2d');
        var categoryChart3 = new Chart(ctx3, {
            type: 'pie',
            data: {
                labels: ['Еда', 'Транспорт', 'Развлечения', 'Одежда'], 
                datasets: [{
                    label: 'Расходы',
                    data: [5000, 3000, 2000, 1500],
                    backgroundColor: ['#FF5733', '#33FF57', '#3357FF', '#F3FF33'],
                    borderColor: '#fff',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        enabled: true
                    }
                }
            }
        });
    </script>
    
    <!-- <button class="btn btn-tg-theme">Категории</button> -->
    <!-- Кнопка для открытия модального окна -->
    <!-- <button class="openModalBtn btn btn-tg-theme" data-modal-id="modal1">Открыть модальное окно 1</button> -->

    <button class="btn btn-tg-theme btn-submit">Save</button>

    

    <!-- Модальные окна -->
    <!-- <div id="modal1" class="modal small bounceIn">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title">Модальное окно 1</span>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Это первое модальное окно. Вы можете разместить любой контент здесь.</p>
            </div>
            <div class="modal-footer">
                <button class="close">Закрыть</button>
            </div>
        </div>
    </div> -->
</div>
{% endblock body %}
