{% extends 'base.html' %}


{% block body %}
<style>
    #debug-log {
        white-space: pre-wrap; /* Для сохранения форматирования */
        font-family: monospace; /* Шрифт для кода */
        background-color: #f5f5f5;
        border: 1px solid #ccc;
        padding: 10px;
        margin-top: 50px;
        max-height: 300px;
        overflow-y: auto;
    }
</style>
<!-- Header -->
<div class="header">
    <div class="username">@{{ user.username }}</div>
    <a href="/settings"><button class="settings-button"></button></a>
</div>

<!-- <div id="debug-log"></div> Место для логов -->


<!-- Content -->
<div class="content my-5">



    <div class="telegram-card mt-5">
        <div class="telegram-card-header">
            Прайс-лист по ремонту iPhone
            
        </div>
        <div class="telegram-card-header">
            <input type="text" class="form-control" placeholder="Поиск по ремонту..." id="searchInput" onkeyup="filterItems()" />
        </div>
        <div class="telegram-card-content">
            
            <!-- Пример записи для Модульного ремонта -->
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Замена дисплея</strong>
                    <div class="telegram-card-date">Модульный ремонт / Apple iPhone 13</div>
                </a>
                <div class="telegram-card-amount">8,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Замена экрана</strong>
                    <div class="telegram-card-date">Модульный ремонт / Apple iPhone 12</div>
                </a>
                <div class="telegram-card-amount">7,500.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Замена корпуса</strong>
                    <div class="telegram-card-date">Модульный ремонт / Apple iPhone 11 Pro</div>
                </a>
                <div class="telegram-card-amount">5,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Замена дисплея</strong>
                    <div class="telegram-card-date">Модульный ремонт / Apple iPhone 13 Pro</div>
                </a>
                <div class="telegram-card-amount">8,500.00 ₽</div>
            </div>
            
            <!-- Пример записи для Компонентного ремонта -->
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Ремонт аккумулятора</strong>
                    <div class="telegram-card-date">Компонентный ремонт / Apple iPhone 12</div>
                </a>
                <div class="telegram-card-amount">4,500.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Замена камеры</strong>
                    <div class="telegram-card-date">Компонентный ремонт / Apple iPhone 11</div>
                </a>
                <div class="telegram-card-amount">6,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Ремонт зарядного порта</strong>
                    <div class="telegram-card-date">Компонентный ремонт / Apple iPhone 7</div>
                </a>
                <div class="telegram-card-amount">4,000.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Ремонт звука</strong>
                    <div class="telegram-card-date">Компонентный ремонт / Apple iPhone 8</div>
                </a>
                <div class="telegram-card-amount">2,500.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Замена микрофона</strong>
                    <div class="telegram-card-date">Компонентный ремонт / Apple iPhone XR</div>
                </a>
                <div class="telegram-card-amount">4,200.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Ремонт Face ID</strong>
                    <div class="telegram-card-date">Компонентный ремонт / Apple iPhone X</div>
                </a>
                <div class="telegram-card-amount">8,500.00 ₽</div>
            </div>
            <div class="telegram-card-row">
                <a class="telegram-card-info">
                    <strong>Ремонт iOS (перепрошивка)</strong>
                    <div class="telegram-card-date">Компонентный ремонт / Apple iPhone 6</div>
                </a>
                <div class="telegram-card-amount">2,000.00 ₽</div>
            </div>
        </div>
        <div class="telegram-footer">
            <a href="#" class="text-primary">Расширенный поиск</a>
        </div>
    </div>
    
    
    

    <div class="telegram-card">


        <div class="telegram-card-header">
            Расходы и доходы
        </div>


        <div class="telegram-card-content">
            <canvas id="incomeExpenseChart"></canvas>
    <script>
        const ctx = document.getElementById('incomeExpenseChart').getContext('2d');
        const incomeExpenseChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Январь'],
                datasets: [{
                    label: 'Доходы',
                    data: [12000, 15000, 18000],
                    backgroundColor: 'rgba(75, 192, 192, 0.5)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }, {
                    label: 'Расходы',
                    data: [8000, 11000, 13000],
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
        </div>

    </div>


    <div class="telegram-card">
        <div class="telegram-card-header">
            Расходы по категориям
        </div>
        <div class="telegram-card-content">
            <canvas id="categoryChart3"></canvas>
        </div>
    </div>

    <div class="telegram-card">
        <div class="telegram-card-header">
            Сравнение расходов по категориям
        </div>
        <div class="telegram-card-content">
            <canvas id="categoryChart4"></canvas>
        </div>
    </div>




    <script>
        // Функция для фильтрации записей по введенному запросу
        function filterItems() {
            var input, filter, rows, row, textContent;
            input = document.getElementById('searchInput');
            filter = input.value.toUpperCase();
            rows = document.querySelectorAll('.telegram-card-row');
            
            rows.forEach(function(row) {
                textContent = row.textContent || row.innerText;
                if (textContent.toUpperCase().indexOf(filter) > -1) {
                    row.style.display = "";
                } else {
                    row.style.display = "none";
                }
            });
        }
    </script>


    <script>
        var ctx4 = document.getElementById('categoryChart4').getContext('2d');
        var categoryChart4 = new Chart(ctx4, {
            type: 'bar',
            data: {
                labels: ['Январь', 'Февраль', 'Март', 'Апрель'],
                datasets: [{
                    label: 'Еда',
                    data: [5000, 7000, 6000, 8000],
                    backgroundColor: 'rgba(75, 192, 192, 0.5)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }, {
                    label: 'Транспорт',
                    data: [3000, 2500, 3200, 2800],
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
    









    <script>
        var ctx3 = document.getElementById('categoryChart3').getContext('2d');
        var categoryChart3 = new Chart(ctx3, {
            type: 'pie',
            data: {
                labels: ['Еда', 'Транспорт', 'Развлечения', 'Одежда'], 
                datasets: [{
                    label: 'Расходы',
                    data: [5000, 3000, 2000, 1500],
                    backgroundColor: ['#FF5733', '#33FF57', '#3357FF', '#F3FF33'],
                    borderColor: '#fff',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        enabled: true
                    }
                }
            }
        });
    </script>
    
    <!-- <button class="btn btn-tg-theme">Категории</button> -->
    <!-- Кнопка для открытия модального окна -->
    <!-- <button class="openModalBtn btn btn-tg-theme" data-modal-id="modal1">Открыть модальное окно 1</button> -->

    <button class="btn btn-tg-theme btn-submit">Save</button>

    

    <!-- Модальные окна -->
    <!-- <div id="modal1" class="modal small bounceIn">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title">Модальное окно 1</span>
                <button class="close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Это первое модальное окно. Вы можете разместить любой контент здесь.</p>
            </div>
            <div class="modal-footer">
                <button class="close">Закрыть</button>
            </div>
        </div>
    </div> -->
</div>
{% endblock body %}
